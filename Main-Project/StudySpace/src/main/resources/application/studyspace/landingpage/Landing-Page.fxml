<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="application.studyspace.controllers.landingpage.LandingpageController"
            stylesheets="@../styles/LandingPageStylesheet.css">

    <fx:define>
        <ToggleGroup fx:id="navGroup"/>
        <ToggleGroup fx:id="viewGroup"/>
    </fx:define>

    <!-- Top bar with only Close button -->
    <top>
        <HBox alignment="CENTER_RIGHT"
              spacing="8"
              style="-fx-padding: 8 16 0 16;">
            <!-- Close button -->
            <Button fx:id="closeBtn"
                    text="âœ•"
                    styleClass="nav-button"
                    onAction="#handleClose"/>
        </HBox>
    </top>

    <!-- Navigation Menu (left side) -->
    <left>
        <VBox styleClass="sidebar" spacing="12">
            <Label text="Study Planner" styleClass="sidebar-title"/>
            <ToggleButton text="ðŸ“… Calendar"
                          styleClass="sidebar-button"
                          toggleGroup="$navGroup"
                          selected="true"/>
            <ToggleButton text="ðŸ“Š Dashboard"
                          styleClass="sidebar-button"
                          toggleGroup="$navGroup"/>
            <ToggleButton text="âš™ Settings"
                          styleClass="sidebar-button"
                          toggleGroup="$navGroup"/>
        </VBox>
    </left>

    <!-- Main content -->
    <center>
        <VBox styleClass="content-root" spacing="16">

            <HBox styleClass="header-box" alignment="CENTER_LEFT" spacing="8">
                <Button text="â—€"
                        styleClass="nav-button"
                        onAction="#goToPrevious"/>
                <Label fx:id="monthYearLabel"
                       styleClass="content-title"/>
                <Button text="â–¶"
                        styleClass="nav-button"
                        onAction="#goToNext"/>
            </HBox>

            <!-- View toggles + New Event button -->
            <HBox styleClass="view-toggle" spacing="6">
                <ToggleButton text="Day"
                              styleClass="view-button"
                              toggleGroup="$viewGroup"
                              onAction="#showDayView"/>
                <ToggleButton text="Week"
                              styleClass="view-button"
                              toggleGroup="$viewGroup"
                              onAction="#showWeekView"/>
                <ToggleButton text="Month"
                              styleClass="view-button"
                              toggleGroup="$viewGroup"
                              selected="true"
                              onAction="#showMonthView"/>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- New Event button -->
                <Button fx:id="newEventBtn"
                        text="+ New Event"
                        onAction="#handleCreateNewEvent"
                        styleClass="view-button"
                        style="
                        -fx-background-color: white;
                        -fx-border-color: white;
                        -fx-background-radius: 20;
                        -fx-border-radius: 20;
                        -fx-text-fill: black;
                        -fx-font-weight: bold;
                        -fx-padding: 4 12;
                        -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 3, 0.0, 0, 1);
                        "/>
            </HBox>

            <StackPane fx:id="calendarContainer"
                       styleClass="calendar-wrapper"
                       VBox.vgrow="ALWAYS"/>

        </VBox>
    </center>
</BorderPane>
